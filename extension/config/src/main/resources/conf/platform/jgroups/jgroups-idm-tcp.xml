<!--

    Copyright (C) 2003-2014 eXo Platform SAS.

    This is free software; you can redistribute it and/or modify it
    under the terms of the GNU Lesser General Public License as
    published by the Free Software Foundation; either version 3 of
    the License, or (at your option) any later version.

    This software is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
    Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public
    License along with this software; if not, write to the Free
    Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
    02110-1301 USA, or see the FSF site: http://www.fsf.org.

-->
<config xmlns="urn:org:jgroups"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="urn:org:jgroups http://www.jgroups.org/schema/JGroups-3.2.xsd">
  <TCP
      singleton_name="${exo.cluster.idm.jgroups.tcp.singleton_name:idm-transport-tcp}"
      bind_addr="${exo.cluster.idm.jgroups.tcp.bind_addr:127.0.0.1}"
      bind_port="${exo.cluster.idm.jgroups.tcp.bind_port:7900}"
      port_range="${exo.cluster.idm.jgroups.tcp.port_range:30}"
      loopback="${exo.cluster.idm.jgroups.tcp.loopback:true}"
      recv_buf_size="${exo.cluster.idm.jgroups.tcp.recv_buf_size:20m}"
      send_buf_size="${exo.cluster.idm.jgroups.tcp.send_buf_size:640k}"
      discard_incompatible_packets="${exo.cluster.idm.jgroups.tcp.discard_incompatible_packets:true}"
      max_bundle_size="${exo.cluster.idm.jgroups.tcp.max_bundle_size:64000}"
      max_bundle_timeout="${exo.cluster.idm.jgroups.tcp.max_bundle_timeout:30}"
      enable_bundling="${exo.cluster.idm.jgroups.tcp.enable_bundling:true}"
      use_send_queues="${exo.cluster.idm.jgroups.tcp.use_send_queues:true}"
      enable_diagnostics="${exo.cluster.idm.jgroups.tcp.enable_diagnostics:false}"
      bundler_type="${exo.cluster.idm.jgroups.tcp.bundler_type:old}"
      thread_naming_pattern="${exo.cluster.idm.jgroups.tcp.thread_naming_pattern:pl}"
      thread_pool.enabled="${exo.cluster.idm.jgroups.tcp.thread_pool.enabled:true}"
      thread_pool.min_threads="${exo.cluster.idm.jgroups.tcp.thread_pool.min_threads:2}"
      thread_pool.max_threads="${exo.cluster.idm.jgroups.tcp.thread_pool.max_threads:30}"
      thread_pool.keep_alive_time="${exo.cluster.idm.jgroups.tcp.thread_pool.keep_alive_time:60000}"
      thread_pool.queue_enabled="${exo.cluster.idm.jgroups.tcp.thread_pool.queue_enabled:true}"
      thread_pool.queue_max_size="${exo.cluster.idm.jgroups.tcp.thread_pool.queue_max_size:100}"
      thread_pool.rejection_policy="${exo.cluster.idm.jgroups.tcp.thread_pool.rejection_policy:Discard}"
      oob_thread_pool.enabled="${exo.cluster.idm.jgroups.tcp.oob_thread_pool.enabled:true}"
      oob_thread_pool.min_threads="${exo.cluster.idm.jgroups.tcp.oob_thread_pool.min_threads:2}"
      oob_thread_pool.max_threads="${exo.cluster.idm.jgroups.tcp.oob_thread_pool.max_threads:30}"
      oob_thread_pool.keep_alive_time="${exo.cluster.idm.jgroups.tcp.oob_thread_pool.keep_alive_time:60000}"
      oob_thread_pool.queue_enabled="${exo.cluster.idm.jgroups.tcp.oob_thread_pool.queue_enabled:false}"
      oob_thread_pool.queue_max_size="${exo.cluster.idm.jgroups.tcp.oob_thread_pool.queue_max_size:100}"
      oob_thread_pool.rejection_policy="${exo.cluster.idm.jgroups.tcp.oob_thread_pool.rejection_policy:Discard}"
      />
  <!-- Ergonomics, new in JGroups 2.11, are disabled by default in TCPPING until JGRP-1253 is resolved -->
  <!--
  <TCPPING timeout="${exo.cluster.idm.jgroups.tcpping.timeout:3000"
           initial_hosts="${exo.cluster.idm.jgroups.tcpping.initial_hosts:localhost[7800],localhost[7801]}"
           port_range="${exo.cluster.idm.jgroups.tcpping.port_range:5}"
           num_initial_members="${exo.cluster.idm.jgroups.tcpping.num_initial_members:3}"
           ergonomics="${exo.cluster.idm.jgroups.tcpping.ergonomics:false}"
       />
  -->
  <MPING
      bind_addr="${exo.cluster.idm.jgroups.mping.bind_addr:127.0.0.1}"
      break_on_coord_rsp="${exo.cluster.idm.jgroups.mping.break_on_coord_rsp:true}"
      mcast_addr="${exo.cluster.idm.jgroups.mping.mcast_addr:228.2.4.6}"
      mcast_port="${exo.cluster.idm.jgroups.mping.mcast_port:43366}"
      ip_ttl="${exo.cluster.idm.jgroups.mping.ip_ttl:2}"
      num_initial_members="${exo.cluster.idm.jgroups.mping.num_initial_members:3}" />
  <MERGE2
      max_interval="${exo.cluster.idm.jgroups.merge2.max_interval:30000}"
      min_interval="${exo.cluster.idm.jgroups.merge2.min_interval:10000}" />
  <FD_SOCK />
  <FD
      timeout="${exo.cluster.idm.jgroups.fd.timeout:3000}"
      max_tries="${exo.cluster.idm.jgroups.fd.max_tries:3}" />
  <VERIFY_SUSPECT
      timeout="${exo.cluster.idm.jgroups.verify_suspect.timeout:1500}" />
  <pbcast.NAKACK
      use_mcast_xmit="${exo.cluster.idm.jgroups.pbcast.nakack.use_mcast_xmit:false}"
      retransmit_timeout="${exo.cluster.idm.jgroups.pbcast.nakack.retransmit_timeout:300,600,1200,2400,4800}"
      discard_delivered_msgs="${exo.cluster.idm.jgroups.pbcast.nakack.discard_delivered_msgs:false}" />
  <UNICAST2
      timeout="${exo.cluster.idm.jgroups.unicast2.timeout:300,600,1200}"
      stable_interval="${exo.cluster.idm.jgroups.unicast2.stable_interval:5000}"
      max_bytes="${exo.cluster.idm.jgroups.unicast2.max_bytes:1m}" />
  <pbcast.STABLE
      stability_delay="${exo.cluster.idm.jgroups.pbcast.stable.stability_delay:500}"
      desired_avg_gossip="${exo.cluster.idm.jgroups.pbcast.stable.desired_avg_gossip:5000}"
      max_bytes="${exo.cluster.idm.jgroups.pbcast.stable.max_bytes:1m}" />
  <pbcast.GMS
      print_local_addr="${exo.cluster.idm.jgroups.pbcast.gms.print_local_addr:true}"
      join_timeout="${exo.cluster.idm.jgroups.pbcast.gms.join_timeout:3000}"
      view_bundling="${exo.cluster.idm.jgroups.pbcast.gms.view_bundling:true}" />
  <UFC
      max_credits="${exo.cluster.idm.jgroups.ufc.max_credits:200k}"
      min_threshold="${exo.cluster.idm.jgroups.ufc.min_threshold:0.20}" />
  <MFC
      max_credits="${exo.cluster.idm.jgroups.mfc.max_credits:200k}"
      min_threshold="${exo.cluster.idm.jgroups.mfc.min_threshold:0.20}" />
  <FRAG2
      frag_size="${exo.cluster.idm.jgroups.frag2.frag_size:60000}" />
  <RSVP
      timeout="${exo.cluster.idm.jgroups.rsvp.timeout:60000}"
      resend_interval="${exo.cluster.idm.jgroups.rsvp.resend_interval:500}"
      ack_on_delivery="${exo.cluster.idm.jgroups.rsvp.ack_on_delivery:false}" />
</config>